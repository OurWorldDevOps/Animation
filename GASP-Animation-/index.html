<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>gsap flip layout</title>
		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="styles.css" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css"
		/>
	</head>
	<body>
		<div class="img-gallery" data-scroll-container>
			<div class="img-gallery-container" data-scroll>
				<div class="img">
					<img src="/images/1.png" />
				</div>
				<div class="img">
					<img src="/images/2.png" />
				</div>
				<div class="img">
					<img src="/images/3.png" />
				</div>
				<div class="img">
					<img src="/images/4.png" />
				</div>
				<div class="img">
					<img src="/images/5.png" />
				</div>
				<div class="img">
					<img src="/images/6.png" />
				</div>
				<div class="img">
					<img src="/images/7.png" />
				</div>
				<div class="img">
					<img src="/images/8.png" />
				</div>
				<div class="img">
					<img src="/images/9.png" />
				</div>
			</div>
		</div>
		<div class="btn">Flip layout</div>
		<script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"></script>
		<script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
		<script src="https://assets.codepen.io/16327/Flip.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/CustomEase.min.js"></script>
		<script>
			const scroller = new LocomotiveScroll({
				el: document.querySelector("[data-scroll-container]"),
				smooth: true,
			});

			gsap.registerPlugin(Flip);

			CustomEase.create("cubic", "0.83,0,0.17,1");
			const gallery = document.querySelector(".img-gallery-container"),
				images = gsap.utils.toArray(".img");

			document.querySelector(".btn").addEventListener("click", () => {
				let state = Flip.getState(".img-gallery-container .img");

				gallery.classList.toggle("order");
				images.forEach((img, i) => {
					img.classList.toggle("reorder");
				});

				Flip.from(state, {
					absolute: true,
					duration: 2,
					stagger: 0.05,
					ease: "cubic",
				});
			});
		</script>
		<!-- <script src="" async defer></script> -->
	</body>
</html>
